#!/bin/bash

# === TONIX CHAIN ‚Äî FORCE DEPLOY SCRIPT (–¥–ª—è Cursor Terminal) ===

echo "üöÄ –ù–∞—á–∏–Ω–∞–µ–º –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ—Å–±–æ—Ä–∫—É TONIX CHAIN v3.1 (Shine Edition)..."

# 1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ
cd frontend || { echo "‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–∞ –ø–∞–ø–∫–∞ frontend"; exit 1; }

# 2Ô∏è‚É£ –ß–∏—Å—Ç–∏–º –∫—ç—à –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
echo "üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±–∏–ª–¥–æ–≤..."
rm -rf .next node_modules/.cache 2>/dev/null || true

# 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
npm install --legacy-peer-deps

# 4Ô∏è‚É£ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
echo "üèóÔ∏è –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞..."
npm run build

# 5Ô∏è‚É£ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ Vercel
echo "üåê –î–µ–ø–ª–æ–π –≤ Vercel..."
vercel --prod --force --confirm

echo ""
echo "‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à—ë–Ω! ‚ö°Ô∏è"
echo "–ï—Å–ª–∏ Vercel –ø–æ–∫–∞–∑–∞–ª —Å—Å—ã–ª–∫—É –≤—Ä–æ–¥–µ https://tonix-chain.vercel.app ‚Äî —ç—Ç–æ —Ç–≤–æ–π –Ω–æ–≤—ã–π –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–¥–æ–º–µ–Ω."
echo ""
echo "üì≤ –î–∞–ª–µ–µ –≤—ã–ø–æ–ª–Ω–∏ –≤ Telegram:"
echo "/setdomain ‚Üí https://<—Ç–≤–æ—è_–Ω–æ–≤–∞—è_—Å—Å—ã–ª–∫–∞>.vercel.app"
echo "/setmenubutton ‚Üí Web App ‚Üí https://<—Ç–≤–æ—è_–Ω–æ–≤–∞—è_—Å—Å—ã–ª–∫–∞>.vercel.app"
echo ""
echo "üîÅ –ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π Mini App –∑–∞–Ω–æ–≤–æ:"
echo "https://t.me/tonixchain_lottery_bot/app?startapp=lottery&v=3"
echo ""
echo "üíé –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ç—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ TONIX CHAIN v3.1 (Shine Edition)."

