{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/Home.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"address\": \"Home-module__Ho9lYW__address\",\n  \"button\": \"Home-module__Ho9lYW__button\",\n  \"buttonSecondary\": \"Home-module__Ho9lYW__buttonSecondary\",\n  \"card\": \"Home-module__Ho9lYW__card\",\n  \"container\": \"Home-module__Ho9lYW__container\",\n  \"info\": \"Home-module__Ho9lYW__info\",\n  \"link\": \"Home-module__Ho9lYW__link\",\n  \"status\": \"Home-module__Ho9lYW__status\",\n  \"subtitle\": \"Home-module__Ho9lYW__subtitle\",\n  \"title\": \"Home-module__Ho9lYW__title\",\n  \"walletInfo\": \"Home-module__Ho9lYW__walletInfo\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///Users/danaraantonova/tonix-chain/frontend/src/pages/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { TonConnectUI } from '@tonconnect/ui';\nimport { beginCell } from '@ton/core';\nimport styles from '../styles/Home.module.css';\n\nexport default function Home() {\n  const [connector, setConnector] = useState<TonConnectUI | null>(null);\n  const [wallet, setWallet] = useState<string | null>(null);\n  const [loading, setLoading] = useState<string | null>(null);\n  const [status, setStatus] = useState<string>('');\n  \n  // –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è\n  const contract = process.env.NEXT_PUBLIC_CONTRACT_ADDRESS || \"EQBtB8vIHgdO49Ih02Yt9kD5tDKxOTrFgZHkRkAjFTrvJziT\";\n  \n  // Opcodes –∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞\n  const OP_BUY_TICKET = 3031985754;    // BuyTicket\n  const OP_DRAW_WINNER = 2838117625;   // DrawWinner\n  const OP_CLAIM_PRIZE = 2639554183;   // ClaimPrize\n  \n  // –°—É–º–º—ã –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π\n  const TICKET_PRICE = \"1000000000\";    // 1 TON –≤ nanotons\n  const GAS_AMOUNT = \"10000000\";        // 0.01 TON –¥–ª—è –≥–∞–∑–∞ (DrawWinner, ClaimPrize)\n\n  useEffect(() => {\n    const tonConnectUI = new TonConnectUI({\n      manifestUrl: typeof window !== 'undefined' ? `${window.location.origin}/tonconnect-manifest.json` : '/tonconnect-manifest.json'\n    });\n    setConnector(tonConnectUI);\n    \n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ\n    tonConnectUI.connectionRestored.then(() => {\n      if (tonConnectUI.wallet) {\n        setWallet(tonConnectUI.wallet.account.address);\n      }\n    });\n    \n    tonConnectUI.onStatusChange((walletInfo) => {\n      if (walletInfo) {\n        setWallet(walletInfo.account.address);\n      } else {\n        setWallet(null);\n        setStatus('');\n      }\n    });\n  }, []);\n\n  const sendTx = async (opcode: number, amount: string, label: string) => {\n    if (!connector || !wallet) {\n      setStatus('‚ùå –°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª—ë–∫');\n      return;\n    }\n\n    setLoading(label);\n    setStatus(`‚è≥ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è: ${label}...`);\n    \n    try {\n      // –°–æ–∑–¥–∞—ë–º payload —Å opcode\n      const cell = beginCell()\n        .storeUint(opcode, 32)\n        .endCell();\n      const payload = cell.toBoc().toString('base64');\n      \n      await connector.sendTransaction({\n        validUntil: Math.floor(Date.now() / 1000) + 300, // 5 –º–∏–Ω—É—Ç\n        messages: [{\n          address: contract,\n          amount: amount,\n          payload: payload\n        }]\n      });\n      \n      setStatus(`‚úÖ ${label} —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!`);\n    } catch (err: any) {\n      console.error('Transaction error:', err);\n      if (err.message && err.message.includes('User rejected')) {\n        setStatus('‚ùå –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º');\n      } else {\n        setStatus(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ ${label}: ${err.message || String(err)}`);\n      }\n    } finally {\n      setLoading(null);\n    }\n  };\n\n  const handleBuy = () => sendTx(OP_BUY_TICKET, TICKET_PRICE, '–ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–∞');\n  const handleDraw = () => sendTx(OP_DRAW_WINNER, GAS_AMOUNT, '–†–æ–∑—ã–≥—Ä—ã—à');\n  const handleClaim = () => sendTx(OP_CLAIM_PRIZE, GAS_AMOUNT, '–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–∑–∞');\n\n  return (\n    <main className={styles.container}>\n      <h1 className={styles.title}>TONIX CHAIN üíé</h1>\n      <p className={styles.subtitle}>–õ–æ—Ç–µ—Ä–µ—è –±—É–¥—É—â–µ–≥–æ –Ω–∞ TON (Mainnet)</p>\n      \n      <div className={styles.card}>\n        {wallet ? (\n          <>\n            <p className={styles.walletInfo}>‚úÖ –ü–æ–¥–∫–ª—é—á—ë–Ω:</p>\n            <p className={styles.address}>{wallet.slice(0, 6)}...{wallet.slice(-6)}</p>\n            \n            <button \n              onClick={handleBuy} \n              className={styles.button}\n              disabled={loading !== null}\n            >\n              {loading === '–ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–∞' ? '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...' : 'üéü –ö—É–ø–∏—Ç—å –±–∏–ª–µ—Ç (1 TON)'}\n            </button>\n            \n            <button \n              onClick={handleDraw} \n              className={styles.button}\n              disabled={loading !== null}\n            >\n              {loading === '–†–æ–∑—ã–≥—Ä—ã—à' ? '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...' : 'üé∞ –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä–æ–∑—ã–≥—Ä—ã—à (—Ç–æ–ª—å–∫–æ owner)'}\n            </button>\n            \n            <button \n              onClick={handleClaim} \n              className={styles.button}\n              disabled={loading !== null}\n            >\n              {loading === '–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–∑–∞' ? '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞...' : 'üí∞ –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–∑ (—Ç–æ–ª—å–∫–æ winner)'}\n            </button>\n            \n            {status && (\n              <p className={styles.status}>{status}</p>\n            )}\n            \n            <button \n              onClick={() => connector?.disconnect()} \n              className={styles.buttonSecondary}\n            >\n              –û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫\n            </button>\n          </>\n        ) : (\n          <>\n            <button \n              onClick={() => connector?.connectWallet()} \n              className={styles.button}\n            >\n              üîó –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫\n            </button>\n            {status && (\n              <p className={styles.status}>{status}</p>\n            )}\n          </>\n        )}\n      </div>\n      \n      <div className={styles.info}>\n        <p>üìç –ö–æ–Ω—Ç—Ä–∞–∫—Ç: {contract.slice(0, 8)}...{contract.slice(-8)}</p>\n        <a \n          href={`https://tonviewer.com/${contract}`} \n          target=\"_blank\" \n          rel=\"noopener noreferrer\"\n          className={styles.link}\n        >\n          üîç –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ TonViewer\n        </a>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}